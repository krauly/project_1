{% extends "base.html" %}

{% block form %}
<div class="container">
	<br>
       {% if profile %}
        {% for items in profile %}
 		<div class="card text-dark  mb-3">
 			<div class="card-header">
 				Client Profile
 			</div>
 		    <div class="card-body">
 		  	   <li class="list-group-item"> {{ items.Name_or_Organization }} </li> 
 			   <li class="list-group-item"> {{ items.Address }}</li> 
 			   <li id="child" class="list-group-item"> {{ items.Phone_Number }}
 			   	<form class=" float-sm-right mb-5" action="/SendSMS/">
 			   	    <div class="form-row">
 			            <button id="fam" type="submit" class="btn btn-primary btn-sm">Send SMS</button> 
 			        </div>
 			    </form> 
 			    </li> 
 			   <li class="list-group-item"> {{ items.IP_Address }} </li> 
 			   <li class="list-group-item"> {{ items.Mac_Address }} </li> 
 			   <li class="list-group-item"> {{ items.Email_Address }}
 			   <form class=" float-sm-right mb-5" action="/SendMail/">
 			   	    <div class="form-row">
 			            <button type="submit" class="btn btn-primary btn-sm">Send Mail</button> 
 			        </div>
 			    </form> 
 			   </li> 

 			   <li class="list-group-item"> {{ items.Signal_Strength }} </li>
 			    <li class="list-group-item"> {{ items.Base_Station }} </li>
 			</div>
 		</div>
 		{% endfor %}
 		{% else %} 
        <div class="alert alert-light py-1" role="alert">
            <h2> Sorry, client profile not in the database.</h2>
        </div>
         {% endif %}
</div>
{% endblock %}


<script>
	//get the id with an event
	(function(global){document.getElementById("fam").addEventListener("click", 
		//set the item to the localstorage
		function()
		{global.localStorage.setItem("mySharedData", 
			//get the element of the id and save it to the localstorage
			document.getElementById("child").innerText)}, false);}
	);
</script>